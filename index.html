<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <title>–ê–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—ã –ë–æ–ª—å—à–∞—è –¢–µ—Ä—Ä–∞—Å–∞ –°–µ–≤–∞—Å—Ç–æ–ø–æ–ª—å –≤ –∞—Ä–µ–Ω–¥—É –ø–æ—Å—É—Ç–æ—á–Ω–æ –≤–∏–¥ –º–æ—Ä—è | –ë–æ–ª—å—à–∞—è –¢–µ—Ä—Ä–∞—Å–∞ GrandTerraceApt | –ö–≤–∞—Ä—Ç–∏—Ä–∞ –°–µ–≤–∞—Å—Ç–æ–ø–æ–ª—å –∞—Ä–µ–Ω–¥–∞ –ø–æ—Å—É—Ç–æ—á–Ω–æ</title>
  <style>
    /* –ë–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Helvetica Neue', Arial, sans-serif;
    }
    html {
      -webkit-text-size-adjust: 100%;
      -ms-text-size-adjust: 100%;
      text-size-adjust: 100%;
    }
    body {
      color: #333;
      line-height: 1.6;
      background-color: #f8f9fa;
      overflow-x: hidden;
      width: 100%;
      -webkit-overflow-scrolling: touch;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
      width: 100%;
    }
    h1, h2, h3, h4 {
      font-weight: 600;
      color: #2c3e50;
      margin-bottom: 1rem;
    }
    h1 { font-size: 2.5rem; }
    h2 {
      font-size: 2rem;
      position: relative;
      padding-bottom: 15px;
    }
    h2:after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 60px;
      height: 3px;
      background-color: #c19a6b;
    }
    p { margin-bottom: 1.5rem; color: #555; }

    /* –ù–∞–≤–∏–≥–∞—Ü–∏—è */
    header {
      background-color: #fff;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      position: fixed;
      width: 100%;
      top: 0;
      z-index: 1000;
    }
    nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px 0;
    }
    .logo {
      font-size: 1.8rem;
      font-weight: 700;
      color: #2c3e50;
      text-decoration: none;
    }
    .logo span { color: #c19a6b; }
    .nav-links {
      display: flex;
      list-style: none;
    }
    .nav-links li { margin-left: 30px; }
    .nav-links a {
      text-decoration: none;
      color: #2c3e50;
      font-weight: 500;
      transition: color 0.3s;
    }
    .nav-links a:hover { color: #c19a6b; }

    /* –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –ì–µ—Ä–æ–π */
    .hero {
      height: 100vh;
      min-height: 600px;
      background: linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.3)), 
                  url("images/living-room-back.jpg") no-repeat center center/cover;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      color: #fff;
      margin-top: 80px;
    }
    .hero-content {
      text-align: center;
      max-width: 900px;
      padding: 0 20px;
      width: 100%;
    }
    .hero h1 {
      font-size: 3.5rem;
      font-weight: 800;
      letter-spacing: 0.5px;
      color: #fff;
      margin-bottom: 20px;
      line-height: 1.2;
      text-shadow: 1px 1px 3px rgba(0,0,0,0.3);
    }
    .hero p {
      font-size: 1.5rem;
      color: #fff;
      font-weight: 400;
      margin-bottom: 35px;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
    }
    .btn {
      display: inline-block;
      background-color: #c19a6b;
      color: #fff;
      padding: 15px 40px;
      text-decoration: none;
      border-radius: 4px;
      font-weight: 500;
      transition: all 0.3s;
      font-size: 1.1rem;
      border: 2px solid #c19a6b;
      cursor: pointer;
    }
    .btn:hover {
      background-color: transparent;
      color: #fff;
      border-color: #fff;
    }
    .btn:disabled {
      background-color: #cccccc;
      border-color: #cccccc;
      cursor: not-allowed;
    }

    /* –°–µ–∫—Ü–∏–∏ */
    section { 
      padding: 80px 0; 
      width: 100%;
    }
    .section-title {
      text-align: center;
      margin-bottom: 50px;
    }

    /* –û –Ω–∞—Å */
    .about-content {
      display: flex;
      align-items: center;
      gap: 50px;
      width: 100%;
    }
    .about-text { 
      flex: 1; 
      min-width: 0;
    }
    .about-image {
      flex: 1;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      min-width: 0;
      position: relative;
    }
    .about-image img {
      width: 100%;
      height: auto;
      display: block;
      transition: transform 0.5s;
    }
    .about-image:hover img { transform: scale(1.05); }
    
    /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –≤–∏–¥–µ–æ —Å –∫–Ω–æ–ø–∫–æ–π –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è */
    .video-preview-container {
      position: relative;
      width: 100%;
      cursor: pointer;
      border-radius: 8px;
      overflow: hidden;
    }
    .video-preview-container:hover img {
      transform: scale(1.05);
    }
    .video-preview-container:hover .play-button {
      background: rgba(0, 0, 0, 0.8);
      transform: translate(-50%, -50%) scale(1.05);
    }
    .play-button {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 80px;
      height: 80px;
      background: rgba(0, 0, 0, 0.6);
      border: 3px solid white;
      border-radius: 50%;
      padding: 0;
      cursor: pointer;
      transition: all 0.2s ease;
      z-index: 10;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .play-button::before {
      content: '';
      width: 0;
      height: 0;
      border-style: solid;
      border-width: 15px 0 15px 25px;
      border-color: transparent transparent transparent white;
      margin-left: 5px;
    }

    /* –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ */
    .features { background-color: #fff; }
    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 30px;
      width: 100%;
    }
    .feature-item {
      text-align: center;
      padding: 30px;
      border-radius: 8px;
      transition: transform 0.3s, box-shadow 0.3s;
    }
    .feature-item:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(0,0,0,0.1);
    }
    .feature-icon {
      font-size: 2.5rem;
      color: #c19a6b;
      margin-bottom: 20px;
    }

    /* –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –ì–∞–ª–µ—Ä–µ—è —Å 12 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ */
    .gallery-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 15px;
      width: 100%;
    }
    .gallery-item {
      position: relative;
      border-radius: 12px;
      overflow: hidden;
      aspect-ratio: 4/3;
      cursor: pointer;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .gallery-item:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(0,0,0,0.2);
    }
    .gallery-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.5s ease;
    }
    .gallery-item:hover img {
      transform: scale(1.1);
    }
    .gallery-caption {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      background: linear-gradient(transparent, rgba(0,0,0,0.7));
      color: white;
      padding: 20px 15px 15px;
      transform: translateY(100%);
      transition: transform 0.3s ease;
      opacity: 0;
    }
    .gallery-item:hover .gallery-caption {
      transform: translateY(0);
      opacity: 1;
    }

    /* Lightbox —Å—Ç–∏–ª–∏ */
    .lightbox {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.95);
      z-index: 2000;
      opacity: 0;
      transition: opacity 0.3s ease;
      touch-action: none;
    }
    .lightbox.open {
      display: flex;
      opacity: 1;
      align-items: center;
      justify-content: center;
      flex-direction: column;
    }
    .lightbox-content {
      position: relative;
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .lightbox-slides {
      position: relative;
      width: 100%;
      height: 100%;
      overflow: hidden;
    }
    .lightbox-slide {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    .lightbox-slide.active {
      opacity: 1;
      z-index: 1;
    }
    .lightbox-image-container {
      position: relative;
      max-width: 100%;
      max-height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .lightbox-slide img {
      max-width: 100%;
      max-height: 80vh;
      object-fit: contain;
      border-radius: 8px;
      transition: transform 0.3s ease;
    }
    .lightbox-caption {
      color: #fff;
      text-align: center;
      padding: 15px;
      font-size: 1.2rem;
      position: absolute;
      bottom: 60px;
      left: 0;
      right: 0;
      background: rgba(0,0,0,0.7);
    }
    .lightbox-close {
      position: fixed;
      top: 25px;
      right: 25px;
      color: white;
      font-size: 2.5rem;
      cursor: pointer;
      background: rgba(0,0,0,0.5);
      border: none;
      z-index: 2001;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .lightbox-nav {
      position: fixed;
      top: 50%;
      width: 100%;
      display: flex;
      justify-content: space-between;
      transform: translateY(-50%);
      padding: 0 20px;
      z-index: 2001;
    }
    .lightbox-button {
      background: rgba(255,255,255,0.2);
      color: white;
      border: none;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      font-size: 1.5rem;
      cursor: pointer;
      transition: background 0.3s;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .lightbox-button:hover {
      background: rgba(255,255,255,0.3);
    }
    .lightbox-counter {
      position: fixed;
      bottom: 20px;
      left: 0;
      right: 0;
      text-align: center;
      color: white;
      font-size: 1rem;
      z-index: 2001;
    }
    .lightbox-zoom-controls {
      position: fixed;
      bottom: 70px;
      right: 20px;
      display: flex;
      flex-direction: column;
      gap: 10px;
      z-index: 2001;
    }
    .lightbox-zoom-button {
      background: rgba(255,255,255,0.2);
      color: white;
      border: none;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      font-size: 1.2rem;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –≤–∏–¥–µ–æ */
    .video-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.9);
      z-index: 3000;
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    .video-modal.open {
      display: flex;
      opacity: 1;
      align-items: center;
      justify-content: center;
      flex-direction: column;
    }
    .video-modal-content {
      position: relative;
      width: 90%;
      max-width: 800px;
      margin: 0 auto;
      animation: fadeIn 0.3s ease;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.9); }
      to { opacity: 1; transform: scale(1); }
    }
    .video-modal-close {
      position: absolute;
      top: 15px;
      right: 15px;
      color: white;
      font-size: 2rem;
      cursor: pointer;
      background: rgba(0,0,0,0.5);
      border: none;
      z-index: 3001;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.3s;
    }
    .video-modal-close:hover {
      background: rgba(0,0,0,0.8);
    }
    .video-modal-video {
      width: 100%;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 10px 30px rgba(0,0,0,0.5);
      background: #000;
    }
    .video-modal-video video {
      width: 100%;
      height: auto;
      display: block;
    }

    /* –ö–æ–Ω—Ç–∞–∫—Ç—ã */
    .contact-wrapper { 
      display: flex; 
      gap: 50px; 
      flex-wrap: wrap;
      width: 100%;
    }
    .contact-info, .contact-form { 
      flex: 1; 
      min-width: 300px;
    }
    .contact-map {
      flex: 1;
      min-width: 300px;
      height: 400px;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    #map {
      width: 100%;
      height: 100%;
      min-height: 300px;
    }
    .map-placeholder {
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      background-color: #f8f9fa;
      color: #555;
      text-align: center;
      padding: 20px;
      border-radius: 12px;
      border: 2px dashed #ccc;
    }
    .info-item { display: flex; align-items: center; margin-bottom: 20px; }
    .info-icon {
      width: 50px;
      height: 50px;
      background-color: #f8f9fa;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 15px;
      color: #c19a6b;
      font-size: 1.2rem;
    }
    .form-group { margin-bottom: 20px; }
    .form-group label { display: block; margin-bottom: 5px; font-weight: 500; }
    .form-control {
      width: 100%;
      padding: 12px 15px;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 1rem;
    }
    textarea.form-control { min-height: 150px; resize: vertical; }
    .date-inputs {
      display: flex;
      gap: 15px;
    }
    .date-inputs .form-group {
      flex: 1;
    }

    /* –°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –∏ —É—Å–ø–µ—Ö–µ */
    .form-message {
      padding: 12px;
      border-radius: 4px;
      margin-bottom: 20px;
      display: none;
    }
    .form-message.success {
      background-color: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
    }
    .form-message.error {
      background-color: #f8d7da;
      color: #721c24;
      border: 1px solid #f5c6cb;
    }
    .form-message.visible {
      display: block;
    }

    /* –§—É—Ç–µ—Ä */
    footer {
      background-color: #2c3e50;
      color: #fff;
      padding: 50px 0 20px;
      width: 100%;
    }
    .footer-content {
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
      margin-bottom: 30px;
      width: 100%;
    }
    .footer-column { flex: 1; min-width: 250px; margin-bottom: 30px; }
    .footer-column h3 {
      color: #fff;
      margin-bottom: 20px;
      position: relative;
      padding-bottom: 10px;
    }
    .footer-column h3:after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 40px;
      height: 2px;
      background-color: #c19a6b;
    }
    .footer-links { list-style: none; }
    .footer-links li { margin-bottom: 10px; }
    .footer-links a {
      color: #bbb;
      text-decoration: none;
      transition: color 0.3s;
    }
    .footer-links a:hover { color: #c19a6b; }
    .copyright {
      text-align: center;
      padding-top: 20px;
      border-top: 1px solid #394b5d;
      color: #bbb;
    }

    /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
    @media (max-width: 992px) {
      .about-content, .contact-wrapper { flex-direction: column; }
      .hero h1 { font-size: 2.8rem; }
      .hero p { font-size: 1.3rem; }
      .gallery-grid {
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      }
      .contact-map {
        order: 3;
        margin-top: 30px;
      }
      .date-inputs {
        flex-direction: column;
        gap: 0;
      }
      .play-button {
        width: 70px;
        height: 70px;
      }
      .video-modal-content {
        width: 95%;
      }
    }
    @media (max-width: 768px) {
      .nav-links { display: none; }
      .hero h1 { font-size: 2.2rem; }
      .hero p { font-size: 1.1rem; }
      h1 { font-size: 2rem; }
      h2 { font-size: 1.8rem; }
      .gallery-grid {
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 10px;
      }
      .btn {
        padding: 12px 30px;
        font-size: 1rem;
      }
      .play-button {
        width: 60px;
        height: 60px;
      }
      .play-button::before {
        border-width: 12px 0 12px 20px;
      }
      
      /* –°—Ç–∏–ª–∏ –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ lightbox */
      .lightbox-nav {
        padding: 0 10px;
      }
      .lightbox-button {
        width: 40px;
        height: 40px;
        font-size: 1.2rem;
      }
      .lightbox-close {
        top: 15px;
        right: 15px;
        width: 40px;
        height: 40px;
        font-size: 1.8rem;
      }
      .lightbox-caption {
        font-size: 1rem;
        bottom: 50px;
        padding: 10px;
      }
      .lightbox-counter {
        bottom: 10px;
        font-size: 0.9rem;
      }
      .lightbox-zoom-controls {
        bottom: 60px;
        right: 10px;
      }
      .lightbox-zoom-button {
        width: 35px;
        height: 35px;
        font-size: 1rem;
      }
    }
    @media (max-width: 480px) {
      .hero h1 { font-size: 1.8rem; }
      .hero p { font-size: 1rem; }
      .gallery-grid {
        grid-template-columns: 1fr;
      }
      .contact-map {
        height: 300px;
      }
      .play-button {
        width: 50px;
        height: 50px;
      }
      .play-button::before {
        border-width: 10px 0 10px 16px;
      }
    }
    
    /* –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –º–µ–¥–∏–∞-–∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏ */
    @media (orientation: portrait) and (max-width: 768px) {
      .hero {
        height: 100vh;
        min-height: 500px;
      }
      .hero h1 {
        font-size: 2rem;
      }
      .hero p {
        font-size: 1.1rem;
      }
    }
    
    @media (orientation: landscape) and (max-height: 500px) {
      .hero {
        height: auto;
        min-height: 100vh;
        padding: 100px 0;
      }
      .hero h1 {
        font-size: 2.2rem;
      }
      .hero p {
        font-size: 1.2rem;
      }
    }
    
    /* –§–∏–∫—Å –¥–ª—è iOS Safari */
    @supports (-webkit-touch-callout: none) {
      .hero {
        height: -webkit-fill-available;
      }
    }
  </style>
</head>
<body>
  <!-- –®–∞–ø–∫–∞ -->
  <header>
    <div class="container">
      <nav>
        <a href="#" class="logo"><span>GrandTerraceApt</span></a>
        <ul class="nav-links">
          <li><a href="#">–ì–ª–∞–≤–Ω–∞—è</a></li>
          <li><a href="#about">–û–± –∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–∞—Ö</a></li>
          <li><a href="#features">–ù–∞—à–∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</a></li>
          <li><a href="#gallery">–ì–∞–ª–µ—Ä–µ—è</a></li>
          <li><a href="#contact">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- –ì–µ—Ä–æ–π -->
  <section class="hero">
    <div class="container">
      <div class="hero-content">
        <h1>–ê–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—ã –≤ —Å–∞–º–æ–º —Ü–µ–Ω—Ç—Ä–µ –°–µ–≤–∞—Å—Ç–æ–ø–æ–ª—è</h1>
        <p>–ê–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—ã "–ë–æ–ª—å—à–∞—è –¢–µ—Ä—Ä–∞—Å–∞" –≤ —Ü–µ–Ω—Ç—Ä–µ –≥–æ—Ä–æ–¥–∞ —Å –ø–∞–Ω–æ—Ä–∞–º–Ω—ã–º –≤–∏–¥–æ–º –Ω–∞ –°–µ–≤–∞—Å—Ç–æ–ø–æ–ª—å—Å–∫—É—é –±—É—Ö—Ç—É</p>
        <a href="#contact" class="btn">–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å</a>
      </div>
    </div>
  </section>

  <!-- –û –Ω–∞—Å -->
  <section id="about">
    <div class="container">
      <div class="section-title">
        <h2>–û –Ω–∞—à–∏—Ö –∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–∞—Ö</h2>
      </div>
      <div class="about-content">
        <div class="about-text">
          <p>–ù–∞—à–∏ –∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—ã —Å–æ—á–µ—Ç–∞—é—Ç –≤ —Å–µ–±–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω, –≤—ã—Å–æ–∫–∏–π –∫–æ–º—Ñ–æ—Ä—Ç –∏ –≤—ã–≥–æ–¥–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤ —Å–∞–º–æ–º —Å–µ—Ä–¥—Ü–µ –≥–æ—Ä–æ–¥–∞. –ü—Ä–æ—Å—Ç–æ—Ä–Ω–æ–µ –ø–æ–º–µ—â–µ–Ω–∏–µ —Å –ø–∞–Ω–æ—Ä–∞–º–Ω—ã–º–∏ –æ–∫–Ω–∞–º–∏ –∏ –±–æ–ª—å—à–∞—è —Ç–µ—Ä—Ä–∞—Å–∞
          –æ—Ç–∫—Ä—ã–≤–∞—é—Ç —É–¥–∏–≤–∏—Ç–µ–ª—å–Ω—ã–π –≤–∏–¥ –Ω–∞ –≥–ª–∞–≤–Ω—É—é –°–µ–≤–∞—Å—Ç–æ–ø–æ–ª—å—Å–∫—É—é –±—É—Ö—Ç—É.</p>
          <p>–ú—ã —Ç—â–∞—Ç–µ–ª—å–Ω–æ –ø–æ–¥–æ—à–ª–∏ –∫ —Å–æ–∑–¥–∞–Ω–∏—é –∞—Ç–º–æ—Å—Ñ–µ—Ä—ã –æ—Ç–¥—ã—Ö–∞ –∏ —É—é—Ç–∞, —É–¥–µ–ª–∏–ª–∏ –≤–Ω–∏–º–∞–Ω–∏–µ –∫–∞–∂–¥–æ–π –¥–µ—Ç–∞–ª–∏, —á—Ç–æ–±—ã –æ–±–µ—Å–ø–µ—á–∏—Ç—å –Ω–∞—à–∏–º –≥–æ—Å—Ç—è–º –Ω–µ–∑–∞–±—ã–≤–∞–µ–º—ã–µ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏—è –æ—Ç –ø—Ä–æ–∂–∏–≤–∞–Ω–∏—è.</p>
          <p>–£–±e–≥–∏ –æ—Ç –ø–æ–≤ce–¥–Ω–µv–Ω–æc—Ç–∏ –≤ a–øap—Ça–ºe–Ω—Ç—ã c c–∞–º–æ–π –ë–æ–ª—å—ào–π Te—Ä—Äa—Å–æ–π –∏ –≤–∏–¥o–º –Ωa Ce–≤ac—Ço–øo–ª—åc–∫—É—é –±—Éx—Ç—É, c–∏–º–≤–æ–ª –≥–æp–æ–¥–∞ –üa–º—è—Ç–Ω–∏–∫ –∑a—Ço–ø–ª–µ–Ω–Ω—ã–º –∫opa–±–ª—è–º!
          –î–æ–±—Äo –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∞–øa—Ä—Ça–ºe–Ω—Ç—ã "–ë–æ–ª—å—àa—è T–µp—Äa—Å–∞"
          H–∞–±–µ—Ä–µ–∂–Ω–∞—è –ê–¥–º–∏—Ä–∞–ª–∞ –ü–µ—Ä–µ–ª–µ—à–∏–Ω–∞, 3. –ú—ã—Å –•—Ä—É—Å—Ç–∞–ª—å–Ω—ã–π. –ü—Ä–µ–±—ã–≤–∞–Ω–∏–µ –≤ –∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–∞—Ö "–ë–æ–ª—å—à–∞—è –¢–µ—Ä—Ä–∞—Å–∞", - —ç—Ç–æ –í–∞—à –∏–¥–µ–∞–ª—å–Ω—ã–π –ø–æ–±–µ–≥ –Ω–∞ –æ—Ç–¥—ã—Ö! GGGGGetaway GrandTerraceApt!</p>
        </div>
        <div class="about-image">
          <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –≤–∏–¥–µ–æ —Å –∫–Ω–æ–ø–∫–æ–π –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è -->
          <div class="video-preview-container" id="videoPreview">
            <img src="images/living-room.png" alt="–ò–Ω—Ç–µ—Ä—å–µ—Ä –∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–æ–≤">
            <button class="play-button" id="playButton" aria-label="–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤–∏–¥–µ–æ"></button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ -->
  <section id="features" class="features">
    <div class="container">
      <div class="section-title">
        <h2>–ù–∞—à–∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</h2>
      </div>
      <div class="features-grid">
        <div class="feature-item">
          <div class="feature-icon">üìç</div>
          <h3>–ò–¥–µ–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ</h3>
          <p>–¶–µ–Ω—Ç—Ä –≥–æ—Ä–æ–¥–∞, –≤ —à–∞–≥–µ –æ—Ç –æ—Å–Ω–æ–≤–Ω—ã—Ö –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π</p>
        </div>
        <div class="feature-item">
          <div class="feature-icon">üõå</div>
          <h3>–ö–æ–º—Ñ–æ—Ä—Ç</h3>
          <p>–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –º–µ–±–µ–ª—å –∏ –ø—Ä–∏—è—Ç–Ω—ã–µ –º–µ–ª–æ—á–∏</p>
        </div>
        <div class="feature-item">
          <div class="feature-icon">üåá</div>
          <h3>–ü–∞–Ω–æ—Ä–∞–º–Ω—ã–π –≤–∏–¥</h3>
          <p>–í–∏–¥ –Ω–∞ –º–æ—Ä–µ –∏ –≥–æ—Ä–æ–¥ –æ—Ç –∫–æ—Ç–æ—Ä–æ–≥–æ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –¥—É—Ö –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è —Å—É—Ç–æ–∫</p>
        </div>
        <div class="feature-item">
          <div class="feature-icon">üõÅ</div>
          <h3>–ü–æ–ª–Ω–æ–µ –æ—Å–Ω–∞—â–µ–Ω–∏–µ</h3>
          <p>–í—Å—ë –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –¥–ª—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–≥–æ –ø—Ä–æ–∂–∏–≤–∞–Ω–∏—è, –æ—Ç —Ç–µ—Ö–Ω–∏–∫–∏ –¥–æ —Å—Ä–µ–¥—Å—Ç–≤ –≥–∏–≥–∏–µ–Ω—ã</p>
        </div>
      </div>
    </div>
  </section>

  <!-- –ì–∞–ª–µ—Ä–µ—è —Å 12 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ -->
  <section id="gallery">
    <div class="container">
      <div class="section-title">
        <h2>–ì–∞–ª–µ—Ä–µ—è</h2>
      </div>
      <div class="gallery-grid">
        <div class="gallery-item">
          <img src="images/gallery1.jpg" alt="–ì–æ—Å—Ç–∏–Ω–∞—è">
          <div class="gallery-caption">–ü—Ä–æ—Å—Ç–æ—Ä–Ω–∞—è –≥–æ—Å—Ç–∏–Ω–∞—è —Å –ø–∞–Ω–æ—Ä–∞–º–Ω—ã–º–∏ –æ–∫–Ω–∞–º–∏</div>
        </div>
        <div class="gallery-item">
          <img src="images/gallery2.jpg" alt="–°–ø–∞–ª—å–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ">
          <div class="gallery-caption">–û—Å–Ω–æ–≤–Ω–∞—è –∫—Ä–æ–≤–∞—Ç—å –æ—Å–æ–±–æ —à–∏—Ä–æ–∫–∞—è (king size)</div>
        </div>
        <div class="gallery-item">
          <img src="images/gallery3.jpg" alt="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ —Å–ø–∞–ª—å–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ">
          <div class="gallery-caption">–í—Ç–æ—Ä–∞—è –ø–æ–ª–Ω–æ—Ä–∞–∑–º–µ—Ä–Ω–∞—è –∫—Ä–æ–≤–∞—Ç—å. –†–∞—Å–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏</div>
        </div>
        <div class="gallery-item">
          <img src="images/gallery4.jpg" alt="–ö—É—Ö–Ω—è">
          <div class="gallery-caption">–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–Ω–∞—è –∫—É—Ö–Ω—è</div>
        </div>
        <div class="gallery-item">
          <img src="images/gallery5.jpg" alt="–ö—É—Ö–Ω—è">
          <div class="gallery-caption">–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–Ω–∞—è –∫—É—Ö–Ω—è —Å –ø–æ—Å—É–¥–æ–º–æ–µ—á–Ω–æ–π –º–∞—à–∏–Ω–æ–π</div>
        </div>
        <div class="gallery-item">
          <img src="images/gallery6.jpg" alt="–ö—É—Ö–Ω—è">
          <div class="gallery-caption">–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–Ω–∞—è –∫—É—Ö–Ω—è</div>
        </div>
        <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ 6 —Ñ–æ—Ç–æ -->
        <div class="gallery-item">
          <img src="images/gallery7.jpg" alt="–í–∞–Ω–Ω–∞—è –∫–æ–º–Ω–∞—Ç–∞">
          <div class="gallery-caption">–í–∞–Ω–Ω–∞—è –∫–æ–º–Ω–∞—Ç–∞ —Å –¥—É—à–µ–≤–æ–π –∫–∞–±–∏–Ω–æ–π, —Å—Ç–∏—Ä–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–æ–π</div>
        </div>
        <div class="gallery-item">
          <img src="images/gallery8.jpg" alt="–ë–æ–ª—å—à–∞—è —Ç–µ—Ä—Ä–∞—Å–∞">
          <div class="gallery-caption">–ë–æ–ª—å—à–∞—è —Ç–µ—Ä—Ä–∞—Å–∞ —Å –∑–æ–Ω–æ–π –æ—Ç–¥—ã—Ö–∞ –∏ –≤–∏–¥–æ–º –Ω–∞ –º–æ—Ä–µ –∏ –≥–æ—Ä–æ–¥</div>
        </div>
        <div class="gallery-item">
          <img src="images/gallery9.jpg" alt="–ë–æ–ª—å—à–∞—è —Ç–µ—Ä—Ä–∞—Å–∞">
          <div class="gallery-caption">–ë–æ–ª—å—à–∞—è —Ç–µ—Ä—Ä–∞—Å–∞ —Å –∑–æ–Ω–æ–π –æ—Ç–¥—ã—Ö–∞ –∏ –≤–∏–¥–æ–º –Ω–∞ –º–æ—Ä–µ –∏ –≥–æ—Ä–æ–¥</div>
        </div>
        <div class="gallery-item">
          <img src="images/gallery10.jpg" alt="–ë–æ–ª—å—à–∞—è —Ç–µ—Ä—Ä–∞—Å–∞">
          <div class="gallery-caption">–í–µ—á–µ—Ä–Ω–∏–π –≤–∏–¥ —Å —Ç–µ—Ä—Ä–∞—Å—ã</div>
        </div>
        <div class="gallery-item">
          <img src="images/gallery11.jpg" alt="–ë–æ–ª—å—à–∞—è —Ç–µ—Ä—Ä–∞—Å–∞">
          <div class="gallery-caption">–ù–æ—á–Ω–æ–π –≤–∏–¥ —Å —Ç–µ—Ä—Ä–∞—Å—ã –Ω–∞ –æ—Å–≤–µ—â–µ–Ω–Ω—É—é –°–µ–≤–∞—Å—Ç–æ–ø–æ–ª—å—Å–∫—É—é –±—É—Ö—Ç—É</div>
        </div>
        <div class="gallery-item">
          <img src="images/gallery12.jpg" alt="–ë–æ–ª—å—à–∞—è —Ç–µ—Ä—Ä–∞—Å–∞">
          <div class="gallery-caption">–ù–æ—á–Ω–æ–π –≤–∏–¥ –Ω–∞ –æ—Å–≤–µ—â–µ–Ω–Ω—É—é –°–µ–≤–∞—Å—Ç–æ–ø–æ–ª—å—Å–∫—É—é –±—É—Ö—Ç—É</div>
        </div>
      </div>
    </div>
  </section>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –≤–∏–¥–µ–æ -->
  <div class="video-modal" id="videoModal">
    <div class="video-modal-content">
      <button class="video-modal-close" id="videoModalClose">&times;</button>
      <div class="video-modal-video">
        <video controls id="apartmentVideo">
          <!-- –°—Å—ã–ª–∫–∞ –Ω–∞ –≤–∏–¥–µ–æ —Å GitHub -->
          <source src="https://raw.githubusercontent.com/ovintor/grand-terrace/main/living-room-video.mp4" type="video/mp4">
          –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–∏–¥–µ–æ. –°–∫–∞—á–∞–π—Ç–µ <a href="https://raw.githubusercontent.com/ovintor/grand-terrace/main/living-room-video.mp4">–µ–≥–æ –ø–æ —Å—Å—ã–ª–∫–µ</a>.
        </video>
      </div>
    </div>
  </div>

  <!-- Lightbox -->
  <div class="lightbox" id="lightbox">
    <button class="lightbox-close" id="lightboxClose">&times;</button>
    <div class="lightbox-nav">
      <button class="lightbox-button" id="prevButton">&#10094;</button>
      <button class="lightbox-button" id="nextButton">&#10095;</button>
    </div>
    <div class="lightbox-content">
      <div class="lightbox-slides" id="lightboxSlides"></div>
    </div>
    <div class="lightbox-counter" id="lightboxCounter"></div>
    <div class="lightbox-zoom-controls">
      <button class="lightbox-zoom-button" id="zoomIn">+</button>
      <button class="lightbox-zoom-button" id="zoomOut">-</button>
      <button class="lightbox-zoom-button" id="resetZoom">‚Ü∫</button>
    </div>
  </div>

  <!-- –ö–æ–Ω—Ç–∞–∫—Ç—ã -->
  <section id="contact" class="contact">
    <div class="container">
      <div class="section-title">
        <h2>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h2>
      </div>
      <div class="contact-wrapper">
        <div class="contact-form">
          <h3>–§–æ—Ä–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</h3>
          <div id="formMessage" class="form-message"></div>
          <form id="bookingForm">
            <div class="form-group">
              <label for="name">–í–∞—à–µ –∏–º—è *</label>
              <input type="text" id="name" class="form-control" required>
            </div>
            <div class="form-group">
              <label for="email">Email *</label>
              <input type="email" id="email" class="form-control" required>
            </div>
            <div class="form-group">
              <label for="phone">–¢–µ–ª–µ—Ñ–æ–Ω *</label>
              <input type="tel" id="phone" class="form-control" required>
            </div>
            <div class="date-inputs">
              <div class="form-group">
                <label for="checkin">–ó–∞–µ–∑–¥ *</label>
                <input type="date" id="checkin" class="form-control" required>
              </div>
              <div class="form-group">
                <label for="checkout">–í—ã–µ–∑–¥ *</label>
                <input type="date" id="checkout" class="form-control" required>
              </div>
            </div>
            <div class="form-group">
              <label for="guests">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ—Å—Ç–µ–π</label>
              <select id="guests" class="form-control">
                <option value="1">1 –≥–æ—Å—Ç—å</option>
                <option value="2" selected>2 –≥–æ—Å—Ç—è</option>
                <option value="3">3 –≥–æ—Å—Ç—è</option>
                <option value="4">4 –≥–æ—Å—Ç—è</option>
              </select>
              <small style="color: #666; font-size: 0.9rem; display: block; margin-top: 5px;">–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ—Å—Ç–µ–π - 4 —á–µ–ª–æ–≤–µ–∫–∞</small>
            </div>
            <div class="form-group">
              <label for="message">–°–æ–æ–±—â–µ–Ω–∏–µ</label>
              <textarea id="message" class="form-control" placeholder="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–∂–µ–ª–∞–Ω–∏—è –∏–ª–∏ –≤–æ–ø—Ä–æ—Å—ã"></textarea>
            </div>
            <button type="submit" class="btn" id="submitBtn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å</button>
          </form>
        </div>
        <div class="contact-info">
          <h3>–°–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏</h3>
          <div class="info-item">
            <div class="info-icon">üìç</div>
            <div>–°–µ–≤–∞—Å—Ç–æ–ø–æ–ª—å, –Ω–∞–±–µ—Ä–µ–∂–Ω–∞—è –ê–¥–º–∏—Ä–∞–ª–∞ –ü–µ—Ä–µ–ª–µ—à–∏–Ω–∞, 3</div>
          </div>
          <div class="info-item">
            <div class="info-icon">üìû</div>
            <div>+7 (978) 143-94-27</div>
          </div>
          <div class="info-item">
            <div class="info-icon">‚úâÔ∏è</div>
            <div>grandterrace@yandex.ru</div>
          </div>
          <div class="info-item">
            <div class="info-icon">üïí</div>
            <div>–í –∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–∞—Ö –ë–æ–ª—å—à–∞—è —Ç–µ—Ä—Ä–∞—Å–∞ –≤—Ä–µ–º—è –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è</div>
          </div>
        </div>
        <div class="contact-map">
          <div id="map"></div>
        </div>
      </div>
    </div>
  </section>

  <!-- –§—É—Ç–µ—Ä -->
  <footer>
    <div class="container">
      <div class="footer-content">
        <div class="footer-column">
          <h3>GrandTerraceApt</h3>
          <p>–≠–ª–∏—Ç–Ω—ã–µ –∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—ã –≤ —Ü–µ–Ω—Ç—Ä–µ –°–µ–≤–∞—Å—Ç–æ–ø–æ–ª—è —Å –≤–∏–¥–æ–º –Ω–∞ –º–æ—Ä–µ.</p>
        </div>
        <div class="footer-column">
          <h3>–ù–∞–≤–∏–≥–∞—Ü–∏—è</h3>
          <ul class="footer-links">
            <li><a href="#">–ì–ª–∞–≤–Ω–∞—è</a></li>
            <li><a href="#about">–û –Ω–∞—Å</a></li>
            <li><a href="#features">–ù–∞—à–∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</a></li>
            <li><a href="#gallery">–ì–∞–ª–µ—Ä–µ—è</a></li>
            <li><a href="#contact">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
          </ul>
        </div>
        <div class="footer-column">
          <h3>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h3>
          <ul class="footer-links">
            <li>üìç –°–µ–≤–∞—Å—Ç–æ–ø–æ–ª—å, –Ω–∞–±–µ—Ä–µ–∂–Ω–∞—è –ê–¥–º–∏—Ä–∞–ª–∞ –ü–µ—Ä–µ–ª–µ—à–∏–Ω–∞, 3</li>
            <li>üìû +7 (978) 143-94-27</li>
            <li>‚úâÔ∏è grandterrace@yandex.ru</li>
          </ul>
        </div>
      </div>
      <div class="copyright">
        ¬© 2025 GrandTerraceApt. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.
      </div>
    </div>
  </footer>

  <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ API –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç -->
  <script src="https://api-maps.yandex.ru/2.1/?apikey=–í–ê–®_API_–ö–õ–Æ–ß&lang=ru_RU" type="text/javascript"></script>
  
  <script>
    // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç–æ–π
    let myMap = null;
    let orientationChangeInProgress = false;
    let currentOrientation = window.orientation || window.screen.orientation.angle;

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏—è –∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Ä—Ç—ã
    function recreateMap() {
      if (!myMap) return;
      
      try {
        // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–∞—Ä—Ç—ã
        const center = myMap.getCenter();
        const zoom = myMap.getZoom();
        
        // –£–Ω–∏—á—Ç–æ–∂–∞–µ–º —Å—Ç–∞—Ä—É—é –∫–∞—Ä—Ç—É
        myMap.destroy();
        myMap = null;
        
        // –û—á–∏—â–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∫–∞—Ä—Ç—ã
        const mapContainer = document.getElementById('map');
        mapContainer.innerHTML = '';
        
        // –î–∞–µ–º –≤—Ä–µ–º—è –Ω–∞ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ
        setTimeout(() => {
          initMap(center, zoom);
        }, 300);
      } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–∏ –∫–∞—Ä—Ç—ã:', error);
        // –ï—Å–ª–∏ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞, –ø—ã—Ç–∞–µ–º—Å—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–Ω–æ–≤–æ
        setTimeout(initMap, 500);
      }
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ñ–æ—Ä–º—ã
    function refreshFormLayout() {
      const form = document.getElementById('bookingForm');
      if (!form) return;
      
      // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –≤—ã–∑—ã–≤–∞–µ–º –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫—É —Ñ–æ—Ä–º—ã
      form.style.display = 'none';
      // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π reflow
      void form.offsetHeight;
      form.style.display = 'block';
      
      // –û–±–Ω–æ–≤–ª—è–µ–º –≤—Å–µ –ø–æ–ª—è —Ñ–æ—Ä–º—ã
      const inputs = form.querySelectorAll('input, textarea, select');
      inputs.forEach(input => {
        input.style.width = '99%';
        setTimeout(() => {
          input.style.width = '100%';
        }, 10);
      });
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏
    function handleOrientationChange() {
      if (orientationChangeInProgress) return;
      
      orientationChangeInProgress = true;
      const newOrientation = window.orientation || window.screen.orientation.angle;
      
      // –ï—Å–ª–∏ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å, –≤—ã—Ö–æ–¥–∏–º
      if (newOrientation === currentOrientation) {
        orientationChangeInProgress = false;
        return;
      }
      
      currentOrientation = newOrientation;
      
      // –°–±—Ä–∞—Å—ã–≤–∞–µ–º viewport
      const viewport = document.querySelector('meta[name="viewport"]');
      if (viewport) {
        viewport.setAttribute('content', 'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover');
      }
      
      // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –≤—ã–∑—ã–≤–∞–µ–º —Å–æ–±—ã—Ç–∏–µ resize
      window.dispatchEvent(new Event('resize'));
      
      // –ñ–¥–µ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏ –ø–æ–≤–æ—Ä–æ—Ç–∞ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è DOM
      setTimeout(() => {
        // –û–±–Ω–æ–≤–ª—è–µ–º —Ñ–æ—Ä–º—É
        refreshFormLayout();
        
        if (myMap) {
          // –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–±—É–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –º–µ—Ç–æ–¥—ã
          try {
            myMap.container.fitToViewport();
          } catch (e) {
            console.log('Standard resize failed, will recreate map');
          }
          
          // –î–∞–µ–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –∏ –ø—Ä–æ–±—É–µ–º –µ—â–µ —Ä–∞–∑
          setTimeout(() => {
            if (myMap) {
              try {
                myMap.container.fitToViewport();
                
                // –ï—Å–ª–∏ —á–µ—Ä–µ–∑ 800 –º—Å –∫–∞—Ä—Ç–∞ –≤—Å–µ –µ—â–µ –Ω–µ –≤ –ø–æ—Ä—è–¥–∫–µ - –ø–µ—Ä–µ—Å–æ–∑–¥–∞–µ–º
                setTimeout(() => {
                  if (myMap && orientationChangeInProgress) {
                    recreateMap();
                  }
                }, 800);
              } catch (e) {
                recreateMap();
              }
            }
          }, 400);
        }
        
        orientationChangeInProgress = false;
      }, 500);
    }

    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏
    window.addEventListener('orientationchange', function() {
      setTimeout(handleOrientationChange, 100);
    });

    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞ —Å —É–ª—É—á—à–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π
    window.addEventListener('resize', function() {
      clearTimeout(window.resizeTimer);
      window.resizeTimer = setTimeout(function() {
        if (myMap && !orientationChangeInProgress) {
          try {
            myMap.container.fitToViewport();
          } catch (error) {
            console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ resize –∫–∞—Ä—Ç—ã:', error);
          }
        }
        
        // –¢–∞–∫–∂–µ –æ–±–Ω–æ–≤–ª—è–µ–º —Ñ–æ—Ä–º—É –ø—Ä–∏ resize
        refreshFormLayout();
      }, 250);
    });

    // –§—É–Ω–∫—Ü–∏—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–∞—Ä—Ç—ã —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —É–∫–∞–∑–∞–Ω–∏—è —Ü–µ–Ω—Ç—Ä–∞ –∏ –∑—É–º–∞
    function initMap(center = null, zoom = null) {
      // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∑–∞–≥—Ä—É–∑–∏–ª—Å—è –ª–∏ API –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç
      if (typeof ymaps === 'undefined') {
        console.error('Yandex Maps API –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è');
        document.getElementById('map').innerHTML = '<div class="map-placeholder">–ö–∞—Ä—Ç–∞ –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞</div>';
        return;
      }
      
      // –ï—Å–ª–∏ –∫–∞—Ä—Ç–∞ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –≤—ã—Ö–æ–¥–∏–º
      if (myMap) return;
      
      ymaps.ready(function() {
        // –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–æ–≤
        const apartmentCoords = [44.616622961342124, 33.517859032692016];
        
        try {
          // –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç—ã
          myMap = new ymaps.Map('map', {
            center: center || apartmentCoords,
            zoom: zoom || 16,
            controls: ['zoomControl', 'fullscreenControl']
          });
          
          // –°–æ–∑–¥–∞–Ω–∏–µ –º–µ—Ç–∫–∏
          const myPlacemark = new ymaps.Placemark(apartmentCoords, {
            hintContent: '–ê–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—ã "–ë–æ–ª—å—à–∞—è –¢–µ—Ä—Ä–∞—Å–∞"',
            balloonContent: '–ê–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—ã "–ë–æ–ª—å—à–∞—è –¢–µ—Ä—Ä–∞—Å–∞"<br>–Ω–∞–±–µ—Ä–µ–∂–Ω–∞—è –ê–¥–º–∏—Ä–∞–ª–∞ –ü–µ—Ä–µ–ª–µ—à–∏–Ω–∞, 3<br>–°–µ–≤–∞—Å—Ç–æ–ø–æ–ª—å'
          }, {
            // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –º–µ—Ç–∫—É
            preset: 'islands#redIcon'
          });
          
          // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ç–∫–∏ –Ω–∞ –∫–∞—Ä—Ç—É
          myMap.geoObjects.add(myPlacemark);
          
          // –û—Ç–∫—Ä—ã–≤–∞–µ–º –±–∞–ª—É–Ω –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
          myPlacemark.balloon.open();
          
          // –ê–¥–∞–ø—Ç–∞—Ü–∏—è –∫–∞—Ä—Ç—ã –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
          myMap.behaviors.disable('scrollZoom');
          
          // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –∫–∞—Ä—Ç—ã
          setTimeout(function() {
            if (myMap) {
              myMap.container.fitToViewport();
            }
          }, 200);
          
          // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞
          setTimeout(() => {
            if (myMap) myMap.container.fitToViewport();
          }, 600);
          
          setTimeout(() => {
            if (myMap) myMap.container.fitToViewport();
          }, 1200);
          
        } catch (error) {
          console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–∞—Ä—Ç—ã:', error);
          document.getElementById('map').innerHTML = '<div class="map-placeholder">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞—Ä—Ç—ã</div>';
        }
      });
    }

    // Lightbox –∏ –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ JavaScript
    document.addEventListener('DOMContentLoaded', function() {
      // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞—Ä—Ç—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
      initMap();
      
      // –≠–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∏–¥–µ–æ
      const videoPreview = document.getElementById('videoPreview');
      const playButton = document.getElementById('playButton');
      const videoModal = document.getElementById('videoModal');
      const videoModalClose = document.getElementById('videoModalClose');
      const apartmentVideo = document.getElementById('apartmentVideo');
      
      // –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Å –≤–∏–¥–µ–æ
      function openVideoModal() {
        videoModal.classList.add('open');
        document.body.style.overflow = 'hidden';
        
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ–º –≤–∏–¥–µ–æ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏
        setTimeout(() => {
          apartmentVideo.play().catch(error => {
            console.log('–ê–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –Ω–µ —É–¥–∞–ª–æ—Å—å:', error);
            // –í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ –∞–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
            apartmentVideo.controls = true;
          });
        }, 300);
      }
      
      // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Å –≤–∏–¥–µ–æ
      function closeVideoModal() {
        videoModal.classList.remove('open');
        document.body.style.overflow = '';
        apartmentVideo.pause();
        apartmentVideo.currentTime = 0;
      }
      
      // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –≤–∏–¥–µ–æ
      videoPreview.addEventListener('click', openVideoModal);
      playButton.addEventListener('click', function(e) {
        e.stopPropagation();
        openVideoModal();
      });
      
      videoModalClose.addEventListener('click', closeVideoModal);
      videoModal.addEventListener('click', function(e) {
        if (e.target === videoModal) {
          closeVideoModal();
        }
      });
      
      // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∞–≤–∏—à–µ Escape
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && videoModal.classList.contains('open')) {
          closeVideoModal();
        }
      });
      
      // Lightbox –¥–ª—è –≥–∞–ª–µ—Ä–µ–∏
      const lightbox = document.getElementById('lightbox');
      const lightboxSlides = document.getElementById('lightboxSlides');
      const lightboxClose = document.getElementById('lightboxClose');
      const prevButton = document.getElementById('prevButton');
      const nextButton = document.getElementById('nextButton');
      const lightboxCounter = document.getElementById('lightboxCounter');
      const zoomInButton = document.getElementById('zoomIn');
      const zoomOutButton = document.getElementById('zoomOut');
      const resetZoomButton = document.getElementById('resetZoom');
      const galleryItems = document.querySelectorAll('.gallery-item');
      
      let currentImageIndex = 0;
      let startX = 0;
      let currentX = 0;
      let isDragging = false;
      let currentScale = 1;
      let currentTranslate = { x: 0, y: 0 };
      let initialTouchesDistance = 0;
      
      // –°–æ–∑–¥–∞–µ–º —Å–ª–∞–π–¥—ã –¥–ª—è lightbox
      function createSlides() {
        lightboxSlides.innerHTML = '';
        galleryItems.forEach((item, index) => {
          const slide = document.createElement('div');
          slide.className = 'lightbox-slide';
          if (index === currentImageIndex) slide.classList.add('active');
          
          const imageContainer = document.createElement('div');
          imageContainer.className = 'lightbox-image-container';
          
          const img = document.createElement('img');
          img.src = item.querySelector('img').src;
          img.alt = item.querySelector('img').alt;
          img.dataset.initialTransform = 'scale(1) translate(0, 0)';
          
          const caption = document.createElement('div');
          caption.className = 'lightbox-caption';
          caption.textContent = item.querySelector('.gallery-caption').textContent;
          
          imageContainer.appendChild(img);
          slide.appendChild(imageContainer);
          slide.appendChild(caption);
          lightboxSlides.appendChild(slide);
        });
        
        updateCounter();
        resetImageTransform();
      }
      
      // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞
      function updateCounter() {
        lightboxCounter.textContent = `${currentImageIndex + 1} / ${galleryItems.length}`;
      }
      
      // –°–±—Ä–æ—Å —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
      function resetImageTransform() {
        currentScale = 1;
        currentTranslate = { x: 0, y: 0 };
        const activeImage = document.querySelector('.lightbox-slide.active img');
        if (activeImage) {
          activeImage.style.transform = `scale(1) translate(0, 0)`;
        }
      }
      
      // –ü–æ–∫–∞–∑–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π —Å–ª–∞–π–¥
      function showSlide(index) {
        const slides = document.querySelectorAll('.lightbox-slide');
        slides.forEach(slide => slide.classList.remove('active'));
        
        currentImageIndex = index;
        if (currentImageIndex < 0) {
          currentImageIndex = galleryItems.length - 1;
        } else if (currentImageIndex >= galleryItems.length) {
          currentImageIndex = 0;
        }
        
        slides[currentImageIndex].classList.add('active');
        resetImageTransform();
        updateCounter();
      }
      
      // –û—Ç–∫—Ä—ã—Ç–∏–µ lightbox
      galleryItems.forEach((item, index) => {
        item.addEventListener('click', () => {
          currentImageIndex = index;
          createSlides();
          lightbox.classList.add('open');
          document.body.style.overflow = 'hidden';
        });
      });
      
      // –ó–∞–∫—Ä—ã—Ç–∏–µ lightbox
      lightboxClose.addEventListener('click', closeLightbox);
      lightbox.addEventListener('click', (e) => {
        if (e.target === lightbox) closeLightbox();
      });
      
      // –ù–∞–≤–∏–≥–∞—Ü–∏—è
      prevButton.addEventListener('click', (e) => {
        e.stopPropagation();
        showSlide(currentImageIndex - 1);
      });
      
      nextButton.addEventListener('click', (e) => {
        e.stopPropagation();
        showSlide(currentImageIndex + 1);
      });
      
      // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ–º
      zoomInButton.addEventListener('click', (e) => {
        e.stopPropagation();
        zoomImage(1.2);
      });
      
      zoomOutButton.addEventListener('click', (e) => {
        e.stopPropagation();
        zoomImage(0.8);
      });
      
      resetZoomButton.addEventListener('click', (e) => {
        e.stopPropagation();
        resetImageTransform();
      });
      
      function zoomImage(factor) {
        const activeImage = document.querySelector('.lightbox-slide.active img');
        if (activeImage) {
          currentScale *= factor;
          // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –º–∞—Å—à—Ç–∞–±
          currentScale = Math.max(0.5, Math.min(currentScale, 5));
          activeImage.style.transform = `scale(${currentScale}) translate(${currentTranslate.x}px, ${currentTranslate.y}px)`;
        }
      }
      
      // –ù–∞–≤–∏–≥–∞—Ü–∏—è —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
      document.addEventListener('keydown', (e) => {
        if (!lightbox.classList.contains('open')) return;
        
        if (e.key === 'Escape') closeLightbox();
        if (e.key === 'ArrowLeft') showSlide(currentImageIndex - 1);
        if (e.key === 'ArrowRight') showSlide(currentImageIndex + 1);
      });
      
      // –ó–∞–∫—Ä—ã—Ç–∏–µ lightbox
      function closeLightbox() {
        lightbox.classList.remove('open');
        document.body.style.overflow = '';
      }
      
      // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–≤–∞–π–ø–æ–≤ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
      lightbox.addEventListener('touchstart', handleTouchStart, false);
      lightbox.addEventListener('touchmove', handleTouchMove, false);
      lightbox.addEventListener('touchend', handleTouchEnd, false);
      
      function handleTouchStart(e) {
        if (e.touches.length === 1) {
          startX = e.touches[0].clientX;
          isDragging = true;
        } else if (e.touches.length === 2) {
          // –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–≤—É–º—è –ø–∞–ª—å—Ü–∞–º–∏
          e.preventDefault();
          initialTouchesDistance = Math.hypot(
            e.touches[0].clientX - e.touches[1].clientX,
            e.touches[0].clientY - e.touches[1].clientY
          );
          isDragging = false;
        }
      }
      
      function handleTouchMove(e) {
        if (e.touches.length === 1 && isDragging) {
          currentX = e.touches[0].clientX;
          
          // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º —Å–∫—Ä–æ–ª–ª —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–º —Å–≤–∞–π–ø–µ
          if (Math.abs(currentX - startX) > 10) {
            e.preventDefault();
          }
        } else if (e.touches.length === 2) {
          // –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–≤—É–º—è –ø–∞–ª—å—Ü–∞–º–∏
          e.preventDefault();
          const currentDistance = Math.hypot(
            e.touches[0].clientX - e.touches[1].clientX,
            e.touches[0].clientY - e.touches[1].clientY
          );
          
          if (initialTouchesDistance > 0) {
            const zoomFactor = currentDistance / initialTouchesDistance;
            const activeImage = document.querySelector('.lightbox-slide.active img');
            
            if (activeImage) {
              currentScale *= zoomFactor;
              // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –º–∞—Å—à—Ç–∞–±
              currentScale = Math.max(0.5, Math.min(currentScale, 5));
              activeImage.style.transform = `scale(${currentScale}) translate(${currentTranslate.x}px, ${currentTranslate.y}px)`;
              
              initialTouchesDistance = currentDistance;
            }
          }
        }
      }
      
      function handleTouchEnd(e) {
        if (e.touches.length < 1) {
          isDragging = false;
          
          if (e.changedTouches.length === 1) {
            const diffX = currentX - startX;
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤–∞–π–ø–∞
            if (Math.abs(diffX) > 50) { // –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–∏—Å—Ç–∞–Ω—Ü–∏—è –¥–ª—è —Å–≤–∞–π–ø–∞
              if (diffX > 0) {
                // –°–≤–∞–π–ø –≤–ø—Ä–∞–≤–æ - –ø—Ä–µ–¥—ã–¥—É—â–µ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                showSlide(currentImageIndex - 1);
              } else {
                // –°–≤–∞–π–ø –≤–ª–µ–≤–æ - —Å–ª–µ–¥—É—é—â–µ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                showSlide(currentImageIndex + 1);
              }
            }
          }
        }
        
        if (e.touches.length < 2) {
          initialTouchesDistance = 0;
        }
      }

      // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º—ã –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
      const bookingForm = document.getElementById('bookingForm');
      const formMessage = document.getElementById('formMessage');
      const submitBtn = document.getElementById('submitBtn');
      
      if (bookingForm) {
        // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –¥–∞—Ç—ã (—Å–µ–≥–æ–¥–Ω—è)
        const today = new Date().toISOString().split('T')[0];
        document.getElementById('checkin').setAttribute('min', today);
        document.getElementById('checkout').setAttribute('min', today);
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –¥–∞—Ç—ã –¥–ª—è –≤—ã–µ–∑–¥–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞—Ç—ã –∑–∞–µ–∑–¥–∞
        document.getElementById('checkin').addEventListener('change', function() {
          const checkinDate = this.value;
          document.getElementById('checkout').setAttribute('min', checkinDate);
          
          // –ï—Å–ª–∏ –¥–∞—Ç–∞ –≤—ã–µ–∑–¥–∞ —Ä–∞–Ω—å—à–µ –¥–∞—Ç—ã –∑–∞–µ–∑–¥–∞, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –¥–∞—Ç—É –≤—ã–µ–∑–¥–∞ = –¥–∞—Ç–µ –∑–∞–µ–∑–¥–∞
          if (document.getElementById('checkout').value < checkinDate) {
            document.getElementById('checkout').value = checkinDate;
          }
        });
        
        // –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º—ã
        bookingForm.addEventListener('submit', function(e) {
          e.preventDefault();
          
          // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã
          const formData = {
            name: document.getElementById('name').value,
            email: document.getElementById('email').value,
            phone: document.getElementById('phone').value,
            checkin: document.getElementById('checkin').value,
            checkout: document.getElementById('checkout').value,
            guests: document.getElementById('guests').value,
            message: document.getElementById('message').value
          };
          
          // –í–∞–ª–∏–¥–∞—Ü–∏—è
          if (!formData.name || !formData.email || !formData.phone || !formData.checkin || !formData.checkout) {
            showMessage('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è', 'error');
            return;
          }
          
          // –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≥–æ—Å—Ç–µ–π (–º–∞–∫—Å–∏–º—É–º 4)
          if (parseInt(formData.guests) > 4) {
            showMessage('–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ—Å—Ç–µ–π - 4 —á–µ–ª–æ–≤–µ–∫–∞', 'error');
            return;
          }
          
          // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É –æ—Ç–ø—Ä–∞–≤–∫–∏
          submitBtn.disabled = true;
          submitBtn.textContent = '–û—Ç–ø—Ä–∞–≤–∫–∞...';
          
          // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ
          sendEmail(formData);
        });
      }
      
      // –§—É–Ω–∫—Ü–∏—è –ø–æ–∫–∞–∑–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
      function showMessage(text, type) {
        if (formMessage) {
          formMessage.textContent = text;
          formMessage.className = `form-message ${type} visible`;
          
          // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫—Ä—ã—Ç–∏–µ —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
          setTimeout(() => {
            formMessage.classList.remove('visible');
          }, 5000);
        }
      }
      
      // –§—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ email —á–µ—Ä–µ–∑ Formspree
      function sendEmail(formData) {
        // –ò—Å–ø–æ–ª—å–∑—É–µ–º Formspree –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ email
        fetch('https://formspree.io/f/mjgblolk', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({
            name: formData.name,
            email: formData.email,
            phone: formData.phone,
            checkin: formData.checkin,
            checkout: formData.checkout,
            guests: formData.guests,
            message: formData.message,
            _subject: '–ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞ –Ω–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ',
            _replyto: formData.email
          })
        })
        .then(response => {
          if (response.ok) {
            showMessage('–ó–∞—è–≤–∫–∞ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞! –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.', 'success');
            bookingForm.reset();
          } else {
            throw new Error('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã');
          }
        })
        .catch(error => {
          console.error('–û—à–∏–±–∫–∞:', error);
          showMessage('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑ –∏–ª–∏ —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É.', 'error');
        })
        .finally(() => {
          // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É –æ—Ç–ø—Ä–∞–≤–∫–∏
          submitBtn.disabled = false;
          submitBtn.textContent = '–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å';
        });
      }
    });
  </script>
</body>
</html>
